---
// filepath: c:\Users\LENOVO\Primotech\src\pages\faq.astro
import Layout from "../../../layouts/Layout.astro";
import Whatsapp from '../../../components/Whatsapp';

const title = "Frequently Asked Questions | PrimoTech LLC";
const description = "Find answers to common questions about PrimoTech LLC products, services, and support.";

const faqs = [
  {
    id: 1,
    category: "General",
    question: "How to change the login password of admin user and manage user accounts?",
    answer: "To change the admin password, log into the camera's web interface using your current credentials. Go to【Security】>【User List】. Select the admin account and click 'Edit'. Enter the new password and confirm it. Save changes to apply. For better security, we suggest using a complex password that includes uppercase letters, numbers, and symbols. You can also create and manage additional user accounts from this section with custom permissions for each user."
  },
  {
    id: 2,
    category: "Network", 
    question: "How to modify the IP address of Uniarch product and configure advanced network settings?",
    answer: "The default IP address is 192.168.1.13 and DHCP is enabled by default. To change it, access the device’s web interface and go to【Network】>【TCP/IP Settings】. Choose DHCP for automatic assignment or select static mode to set a fixed IP address. Enter the IP, subnet mask, and gateway if using static mode. Configure DNS servers if needed. Save your settings and restart the device. You can also adjust VLAN, QoS, and port forwarding settings in this section for advanced networking."
  },
  {
    id: 3,
    category: "Network",
    question: "How to change network settings on my device and troubleshoot connection issues?",
    answer: "Devices support both static and DHCP IP assignment. Static IP is best for permanent setups, while DHCP suits dynamic networks. Go to【Network Settings】>【Basic】to configure. If facing issues, check cables and network ports, ensure compatibility (10/100/1000 Mbps), and try different setups. Reset network settings if needed. Advanced options include adjusting MTU size, enabling/disabling UPnP, and setting bandwidth limits for performance tuning."
  },
  {
    id: 4,
    category: "Features",
    question: "Does PrimoTech support cloud storage and what are the available recording options?",
    answer: "Yes, our cameras support multiple storage methods. Cloud storage offers end-to-end encryption and options for 7, 30, or 90-day plans. Local storage via SD card is supported up to 256GB. Devices also work with NAS and FTP for backups. Cloud features include motion-triggered recording, AI event tagging, multi-user access, and cross-platform sync. For smooth cloud use, we recommend at least 2Mbps upload per camera."
  },
  {
    id: 5,
    category: "Support",
    question: "Where can I download manuals, firmware updates, and additional software tools?",
    answer: "Visit our official website and go to the Downloads section. Select your product category and model. You’ll find manuals (PDF), firmware updates with release notes, configuration tools, mobile apps (iOS/Android), and SDKs. For older devices, check the 'Archived Downloads'. Register your product to receive update alerts. Our knowledge base also includes setup guides, troubleshooting tips, and video tutorials."
  },
  {
    id: 6,
    category: "Warranty",
    question: "What is the warranty period and what does the coverage include?",
    answer: "PrimoTech offers a 3-year limited warranty covering hardware defects and technical support. Critical systems may qualify for advanced replacement. Enterprise products are eligible for on-site service. Covered parts include lenses, sensors, and internal electronics. Damage from misuse, water exposure, or unauthorized modifications is excluded. Extended warranty plans are available, adding up to 2 years and optional accidental damage coverage."
  },
  {
    id: 7,
    category: "Installation",
    question: "What are the recommended installation practices for outdoor cameras?",
    answer: "Install cameras in locations with proper weather protection (IP67-rated enclosures included). Use strong mounting surfaces that can handle at least 3x the device weight. Keep at least 3 feet away from trees or bushes to avoid obstruction. Use waterproof cable glands for all wiring. Avoid direct sunlight angles to reduce glare. For PoE, use outdoor-rated Ethernet and surge protection. For high placements, professional installation is recommended. A mounting template is included for easy setup."
  },
  {
    id: 8,
    category: "Features",
    question: "What advanced analytics features are available on PrimoTech cameras?",
    answer: "Our AI features include smart motion detection with human/vehicle filtering, facial recognition (on supported models), license plate reading, people counting, intrusion detection zones, loitering alerts, and heat mapping. These functions can trigger alarms or recordings and integrate with VMS. Settings can be adjusted via the web interface or mobile app. Some features may require a cloud plan for processing."
  },
  {
    id: 9,
    category: "Maintenance",
    question: "How should I maintain my PrimoTech surveillance system?",
    answer: "Regular maintenance helps ensure system reliability. Check alerts and storage weekly. Clean lenses monthly using a microfiber cloth and inspect weather seals. Test IR night vision. Every few months, update firmware, inspect wiring, and verify backups. Annually, large systems may benefit from a professional inspection. For IR models, check for spider webs. Devices include diagnostics for system health, temperature, and hardware status. Always power down before cleaning and use approved tools only."
  }
];

const faqCategories = [...new Set(faqs.map(faq => faq.category))];
---

<Layout title={title} description={description}>
  <main class="min-h-screen bg-gray-50">
    <!-- Hero Banner with Animations -->
    <section class="relative h-[60vh] lg:h-[70vh] overflow-hidden faq-hero">
      <div class="absolute inset-0">
        <img 
          src="/images/aboutus-background.png"
          alt="PrimoTech office team"
          class="w-full h-full object-cover hero-image-reveal"
          loading="eager"
        />
        <div class="absolute inset-0 bg-black/40 hero-overlay-fade"></div>
        <div class="absolute inset-0 bg-gradient-to-r from-teal-900/80 to-transparent hero-overlay-fade"></div>
      </div>
      <div class="relative z-10 flex items-center h-full">
        <div class="container mx-auto px-6 lg:px-8">
          <div class="max-w-2xl hero-content-reveal">
            <h1 class="text-5xl lg:text-7xl font-bold text-white mb-6 hero-title-animate">
              Frequently Asked Questions
            </h1>
            <p class="text-xl lg:text-2xl text-gray-200 mb-4 hero-subtitle-animate">
              Quick answers about PrimoTech products and support.
            </p>
            <p class="text-lg lg:text-xl text-gray-300 hero-description-animate">
              Find solutions to common questions or reach out to our team for more help.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- FAQ Content Section -->
    <section class="py-16 faq-content-section">
      <div class="max-w-6xl mx-auto px-6">
        <!-- Category Filter -->
        <div class="mb-12 text-center">
          <div class="inline-flex flex-wrap gap-3 bg-white rounded-2xl p-3 shadow-lg border filter-container">
            <button 
              class="category-btn active" 
              data-category="All"
            >
              All Categories
            </button>
            {faqCategories.map((category) => (
              <button 
                class="category-btn" 
                data-category={category}
              >
                {category}
              </button>
            ))}
          </div>
        </div>

        <!-- FAQ Grid -->
        <div id="faq-list" class="space-y-6">
          {faqs.map((faq, index) => (
            <div 
              class="faq-item bg-white rounded-xl shadow-md border border-gray-100 transition-all duration-500"
              data-category={faq.category}
              style={`animation-delay: ${(index % 4) * 100}ms`}
            >
              <div class="p-8 relative">
                <div class="flex items-start gap-6">
                  <div class="w-12 h-12 bg-gradient-to-br from-teal-400 to-teal-600 rounded-xl flex items-center justify-center flex-shrink-0 shadow-lg relative overflow-visible">
                    <svg class="w-6 h-6 text-white z-10 relative" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                  </div>
                  <div class="flex-1">
                    <div class="mb-3">
                      <span class="inline-block px-3 py-1 text-xs font-semibold text-teal-700 bg-teal-50 rounded-full border border-teal-200">
                        {faq.category}
                      </span>
                    </div>
                    <h3 class="text-xl font-bold text-gray-900 mb-4 leading-tight">{faq.question}</h3>
                    <p class="text-gray-600 leading-relaxed text-base">{faq.answer}</p>
                  </div>
                </div>
              </div>
            </div>
          ))}
        </div>
        
        <!-- No Results Message -->
        <div id="no-results" class="hidden text-center py-16">
          <div class="max-w-md mx-auto">
            <div class="w-20 h-20 mx-auto mb-6 bg-gray-100 rounded-full flex items-center justify-center">
              <svg class="w-10 h-10 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
              </svg>
            </div>
            <h3 class="text-2xl font-bold text-gray-700 mb-3">No results found</h3>
            <p class="text-gray-500 text-lg">Try selecting a different category to see more FAQs</p>
          </div>
        </div>
      </div>
    </section>

    <!-- Contact Section with Animations -->
    <section class="bg-white border-t border-gray-200 py-16 contact-section">
      <div class="max-w-4xl mx-auto px-6 text-center">
        <h2 class="text-3xl font-bold text-gray-900 mb-4 contact-title-animate">
          Still Need Help?
        </h2>
        <p class="text-lg text-gray-600 mb-8 contact-description-animate">
          Can't find the answer you're looking for? Our support team is ready to assist you.
        </p>
        
        <div class="grid md:grid-cols-3 gap-8 mb-8">
          <div class="text-center contact-card-animate" data-delay="100">
            <div class="w-12 h-12 bg-teal-100 rounded-lg flex items-center justify-center mx-auto mb-4 transition-all duration-300 hover:scale-110">
              <svg class="w-6 h-6 text-teal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
              </svg>
            </div>
            <h3 class="font-semibold text-gray-900 mb-2">Email Support</h3>
            <p class="text-gray-600 text-sm">Get detailed help via email</p>
          </div>
          
          <div class="text-center contact-card-animate" data-delay="200">
            <div class="w-12 h-12 bg-teal-100 rounded-lg flex items-center justify-center mx-auto mb-4 transition-all duration-300 hover:scale-110">
              <svg class="w-6 h-6 text-teal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
              </svg>
            </div>
            <h3 class="font-semibold text-gray-900 mb-2">Phone Support</h3>
            <p class="text-gray-600 text-sm">Speak directly with our experts</p>
          </div>
          
          <div class="text-center contact-card-animate" data-delay="300">
            <div class="w-12 h-12 bg-teal-100 rounded-lg flex items-center justify-center mx-auto mb-4 transition-all duration-300 hover:scale-110">
              <svg class="w-6 h-6 text-teal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
              </svg>
            </div>
            <h3 class="font-semibold text-gray-900 mb-2">Documentation</h3>
            <p class="text-gray-600 text-sm">Browse our knowledge base</p>
          </div>
        </div>
        
        <a 
          href="/contact"
          class="inline-flex items-center px-6 py-3 bg-transparent border-2 border-teal-400 text-teal-400 hover:bg-teal-400 hover:text-white font-semibold text-base rounded-full transition-all duration-300 group transform hover:scale-105 hover:shadow-lg"
        >
          Contact Support Team
          <svg class="ml-2 w-4 h-4 transition-transform duration-300 group-hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
          </svg>
        </a>
      </div>
    </section>
  </main>
  <Whatsapp client:load />
</Layout>

<style>
/* Enhanced Category Button Styles */
.filter-container {
  backdrop-filter: blur(10px);
  background: rgba(255, 255, 255, 0.95);
  transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.category-btn {
  position: relative;
  padding: 0.75rem 1.5rem;
  border-radius: 1rem;
  border: 2px solid transparent;
  background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
  color: #64748b;
  font-weight: 600;
  font-size: 0.875rem;
  cursor: pointer;
  transition: color 0.3s cubic-bezier(0.34, 1.56, 0.64, 1), background 0.3s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.3s cubic-bezier(0.34, 1.56, 0.64, 1), transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  transform: scale(1);
  white-space: nowrap;
  overflow: hidden;
}

.category-btn::before {
  content: '';
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%) scaleX(0);
  width: 24px;
  height: 3px;
  background: #0d9488;
  border-radius: 2px;
  transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.category-btn.active {
  color: #0d9488;
  background: rgba(20, 184, 166, 0.08);
  box-shadow: 0 4px 16px rgba(20, 184, 166, 0.08);
  transform: scale(1.06);
}

.category-btn.active::before {
  transform: translateX(-50%) scaleX(1);
}

.category-btn:hover {
  background: linear-gradient(135deg, #e2e8f0 0%, #cbd5e1 100%);
  color: #0d9488;
  transform: scale(1.04);
  box-shadow: 0 8px 25px rgba(20, 184, 166, 0.08);
}

/* FAQ Item Styles - Clean fade animation */
.faq-item {
  transition: opacity 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94), max-height 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94), transform 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  opacity: 1;
  max-height: 1000px;
  overflow: hidden;
  transform: translateY(20px) scale(0.98);
}
.faq-item.filtering-out {
  opacity: 0;
  max-height: 0;
  pointer-events: none;
  transform: translateY(20px) scale(0.98);
}
.faq-item.filtering-in {
  opacity: 1;
  max-height: 1000px;
  transform: translateY(0) scale(1);
}

/* Remove filter container scaling/fading */
.filter-container.filtering {
  /* No animation */
}

/* No Results Enhanced Animation */
#no-results {
  opacity: 0;
  transform: scale(0.9) translateY(40px);
  transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

#no-results.show {
  opacity: 1;
  transform: scale(1) translateY(0);
}

/* Hero animations */
.faq-hero {
  opacity: 0;
  transform: translateY(50px);
  transition: all 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.faq-hero.hero-revealed {
  opacity: 1;
  transform: translateY(0);
}

.hero-image-reveal {
  transform: scale(1.1);
  opacity: 0;
  transition: all 2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.faq-hero.hero-revealed .hero-image-reveal {
  transform: scale(1);
  opacity: 1;
  transition-delay: 0.2s;
}

.hero-overlay-fade {
  opacity: 0;
  transition: opacity 1s ease-out;
}

.faq-hero.hero-revealed .hero-overlay-fade {
  opacity: 1;
  transition-delay: 0.4s;
}

/* Section animations */
.faq-content-section, .contact-section {
  opacity: 0;
  transform: translateY(50px);
  transition: all 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.faq-content-section.section-revealed, 
.contact-section.section-revealed {
  opacity: 1;
  transform: translateY(0);
}

/* Responsive Design */
@media (max-width: 768px) {
  .category-btn {
    font-size: 0.8125rem;
    padding: 0.5rem 1rem;
  }
  
  .filter-container {
    gap: 0.5rem;
    padding: 0.75rem;
  }
}

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
  .category-btn, .faq-item, .filter-container {
    transition: none !important;
    animation: none !important;
  }
}
</style>

<script is:inline>
document.addEventListener('DOMContentLoaded', () => {
  // Initialize animations
  const heroObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting && entry.intersectionRatio > 0.1) {
        entry.target.classList.add('hero-revealed');
        heroObserver.unobserve(entry.target);
      }
    });
  }, {
    threshold: [0, 0.1, 0.3],
    rootMargin: '0px 0px -100px 0px'
  });

  const sectionObserver = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting && entry.intersectionRatio > 0.1) {
        entry.target.classList.add('section-revealed');
        sectionObserver.unobserve(entry.target);
      }
    });
  }, {
    threshold: [0, 0.1, 0.3],
    rootMargin: '0px 0px -100px 0px'
  });

  // Observe elements
  const heroSection = document.querySelector('.faq-hero');
  const sections = document.querySelectorAll('.faq-content-section, .contact-section');
  
  if (heroSection) heroObserver.observe(heroSection);
  sections.forEach(section => sectionObserver.observe(section));

  // Enhanced FAQ filtering functionality
  let isFiltering = false;

  function filterFaqs(category) {
    if (isFiltering) return;
    isFiltering = true;

    const items = document.querySelectorAll('.faq-item');
    const noResults = document.getElementById('no-results');
    const buttons = document.querySelectorAll('.category-btn');
    let visibleCount = 0;

    // Update active button instantly
    buttons.forEach(btn => {
      btn.classList.toggle('active', btn.getAttribute('data-category') === category);
    });

    // Animate out items to be hidden
    items.forEach((item) => {
      const itemCategory = item.getAttribute('data-category');
      const shouldShow = category === 'All' || itemCategory === category;
      if (!shouldShow) {
        item.classList.remove('filtering-in');
        item.classList.add('filtering-out');
        setTimeout(() => {
          item.style.display = 'none';
        }, 350); // Wait for transition before hiding
      }
    });

    // Animate in items to be shown
    setTimeout(() => {
      items.forEach((item) => {
        const itemCategory = item.getAttribute('data-category');
        const shouldShow = category === 'All' || itemCategory === category;
        if (shouldShow) {
          item.style.display = '';
          // Force reflow for transition
          void item.offsetWidth;
          item.classList.remove('filtering-out');
          item.classList.add('filtering-in');
          visibleCount++;
        }
      });

      // Handle no results
      if (visibleCount === 0) {
        noResults.classList.remove('hidden');
        setTimeout(() => noResults.classList.add('show'), 100);
      } else {
        noResults.classList.remove('show');
        setTimeout(() => noResults.classList.add('hidden'), 300);
      }

      isFiltering = false;
    }, 350);
  }

  // Add click event listeners to filter buttons
  document.querySelectorAll('.category-btn').forEach(button => {
    button.addEventListener('click', (e) => {
      e.preventDefault();
      const category = button.getAttribute('data-category');
      filterFaqs(category);
    });
  });

  // Initialize with all items visible
  filterFaqs('All');
});
</script>