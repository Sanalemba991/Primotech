---
// filepath: c:\Users\LENOVO\Primotech\src\pages\faq.astro
import Layout from "../../../layouts/Layout.astro";
import Whatsapp from '../../../components/Whatsapp';

const title = "Frequently Asked Questions | PrimoTech LLC";
const description = "Find answers to common questions about PrimoTech LLC products, services, and support.";

const faqs = [
  {
    id: 1,
    category: "General",
    question: "How to change the login password of admin user and manage user accounts?",
    answer: "To change the admin password, log into the camera's web interface using your current credentials. Go to【Security】>【User List】. Select the admin account and click 'Edit'. Enter the new password and confirm it. Save changes to apply. For better security, we suggest using a complex password that includes uppercase letters, numbers, and symbols. You can also create and manage additional user accounts from this section with custom permissions for each user."
  },
  {
    id: 2,
    category: "Network", 
    question: "How to modify the IP address of Uniarch product and configure advanced network settings?",
    answer: "The default IP address is 192.168.1.64 and DHCP is enabled by default. To change it, access the device’s web interface and go to【Network】>【TCP/IP Settings】. Choose DHCP for automatic assignment or select static mode to set a fixed IP address. Enter the IP, subnet mask, and gateway if using static mode. Configure DNS servers if needed. Save your settings and restart the device. You can also adjust VLAN, QoS, and port forwarding settings in this section for advanced networking."
  },
  {
    id: 3,
    category: "Network",
    question: "How to change network settings on my device and troubleshoot connection issues?",
    answer: "Devices support both static and DHCP IP assignment. Static IP is best for permanent setups, while DHCP suits dynamic networks. Go to【Network Settings】>【Basic】to configure. If facing issues, check cables and network ports, ensure compatibility (10/100/1000 Mbps), and try different setups. Reset network settings if needed. Advanced options include adjusting MTU size, enabling/disabling UPnP, and setting bandwidth limits for performance tuning."
  },
  {
    id: 4,
    category: "Features",
    question: "Does PrimoTech support cloud storage and what are the available recording options?",
    answer: "Yes, our cameras support multiple storage methods. Cloud storage offers end-to-end encryption and options for 7, 30, or 90-day plans. Local storage via SD card is supported up to 256GB. Devices also work with NAS and FTP for backups. Cloud features include motion-triggered recording, AI event tagging, multi-user access, and cross-platform sync. For smooth cloud use, we recommend at least 2Mbps upload per camera."
  },
  {
    id: 5,
    category: "Support",
    question: "Where can I download manuals, firmware updates, and additional software tools?",
    answer: "Visit our official website and go to the Downloads section. Select your product category and model. You’ll find manuals (PDF), firmware updates with release notes, configuration tools, mobile apps (iOS/Android), and SDKs. For older devices, check the 'Archived Downloads'. Register your product to receive update alerts. Our knowledge base also includes setup guides, troubleshooting tips, and video tutorials."
  },
  {
    id: 6,
    category: "Warranty",
    question: "What is the warranty period and what does the coverage include?",
    answer: "PrimoTech offers a 3-year limited warranty covering hardware defects and technical support. Critical systems may qualify for advanced replacement. Enterprise products are eligible for on-site service. Covered parts include lenses, sensors, and internal electronics. Damage from misuse, water exposure, or unauthorized modifications is excluded. Extended warranty plans are available, adding up to 2 years and optional accidental damage coverage."
  },
  {
    id: 7,
    category: "Installation",
    question: "What are the recommended installation practices for outdoor cameras?",
    answer: "Install cameras in locations with proper weather protection (IP67-rated enclosures included). Use strong mounting surfaces that can handle at least 3x the device weight. Keep at least 3 feet away from trees or bushes to avoid obstruction. Use waterproof cable glands for all wiring. Avoid direct sunlight angles to reduce glare. For PoE, use outdoor-rated Ethernet and surge protection. For high placements, professional installation is recommended. A mounting template is included for easy setup."
  },
  {
    id: 8,
    category: "Features",
    question: "What advanced analytics features are available on PrimoTech cameras?",
    answer: "Our AI features include smart motion detection with human/vehicle filtering, facial recognition (on supported models), license plate reading, people counting, intrusion detection zones, loitering alerts, and heat mapping. These functions can trigger alarms or recordings and integrate with VMS. Settings can be adjusted via the web interface or mobile app. Some features may require a cloud plan for processing."
  },
  {
    id: 9,
    category: "Maintenance",
    question: "How should I maintain my PrimoTech surveillance system?",
    answer: "Regular maintenance helps ensure system reliability. Check alerts and storage weekly. Clean lenses monthly using a microfiber cloth and inspect weather seals. Test IR night vision. Every few months, update firmware, inspect wiring, and verify backups. Annually, large systems may benefit from a professional inspection. For IR models, check for spider webs. Devices include diagnostics for system health, temperature, and hardware status. Always power down before cleaning and use approved tools only."
  }
];

const faqCategories = [...new Set(faqs.map(faq => faq.category))];

const canonicalUrl = new URL(Astro.url.pathname, Astro.site).toString();

const structuredData = {
  "@context": "https://schema.org",
  "@graph": [
    {
      "@type": "Organization",
      "@id": "https://primotech-llc.com/#organization",
      "name": "PrimoTech LLC - UUniarch Authorized Distributor Dubai",
      "url": "https://primotech-llc.com",
      "logo": {
        "@type": "ImageObject",
        "@id": `${Astro.url.origin}/log.png`,
        "url": `${Astro.url.origin}/log.png`,
        "caption": "PrimoTech LLC - Uniarch Authorized Distributor Dubai",
        "inLanguage": "en-US",
        "width": 1000,
        "height": 375
      },
      "sameAs": [
        "https://www.linkedin.com/company/primotechllc/",
        "https://www.facebook.com/primotechllc"
      ]
    },
    {
      "@type": "WebSite",
      "@id": "https://primotech-llc.com/#website",
      "url": "https://primotech-llc.com",
      "name": "PrimoTech Security - Uniarch Authorized Distributor Dubai",
      "publisher": {
        "@id": "https://primotech-llc.com/#organization"
      },
      "inLanguage": "en-US"
    },
    {
      "@type": "WebPage",
      "@id": `${canonicalUrl}#webpage`,
      "url": canonicalUrl,
      "name": title,
      "description": description,
      "isPartOf": {
        "@id": "https://primotech-llc.com/#website"
      },
      "about": {
        "@id": "https://primotech-llc.com/#organization"
      },
      "inLanguage": "en-US",
      "breadcrumb": {
        "@id": `${canonicalUrl}#breadcrumb`
      }
    },
    {
      "@type": "BreadcrumbList",
      "@id": `${canonicalUrl}#breadcrumb`,
      "itemListElement": [
        {
          "@type": "ListItem",
          "position": 1,
          "name": "Home",
          "item": "https://primotech-llc.com/"
        },
        {
          "@type": "ListItem",
          "position": 2,
          "name": "Support",
          "item": "https://primotech-llc.com/support/"
        },
        {
          "@type": "ListItem",
          "position": 3,
          "name": "FAQ",
          "item": canonicalUrl
        }
      ]
    },
    {
      "@type": "FAQPage",
      "@id": `${canonicalUrl}#faqpage`,
      "url": canonicalUrl,
      "name": title,
      "description": description,
      "isPartOf": {
        "@id": `${canonicalUrl}#webpage`
      },
      "inLanguage": "en-US",
      "mainEntity": [
        ...faqs.map(faq => ({
          "@type": "Question",
          "name": faq.question,
          "acceptedAnswer": {
            "@type": "Answer",
            "text": faq.answer
          }
        }))
      ]
    },
    {
      "@type": "WebPage",
      "name": title,
      "description": description,
      "url": canonicalUrl,
      "image": `${Astro.url.origin}/log.png`,
      "publisher": {
        "@id": "https://primotech-llc.com/#organization"
      },
      "potentialAction": {
        "@type": "ReadAction",
        "target": [canonicalUrl]
      }
    },
    {
      "@type": "LocalBusiness",
      "@id": "https://primotech-llc.com/#localbusiness",
      "name": "PrimoTech LLC - Uniarch Authorized Distributor Dubai",
      "image": `${Astro.url.origin}/log.png`,
      "address": {
        "@type": "PostalAddress",
        "streetAddress": "Shop 23, Musthafa Building, Satellite Market, Deira, Dubai",
        "addressLocality": "Dubai",
        "addressRegion": "Dubai",
        "postalCode": "123241",
        "addressCountry": "AE"
      },
      "geo": {
        "@type": "GeoCoordinates",
        "latitude": "25.2048",
        "longitude": "55.2708"
      },
      "telephone": "+971 52 879 6664",
      "priceRange": "$$",
      "contactPoint": {
        "@type": "ContactPoint",
        "telephone": "+971 52 879 6664",
        "contactType": ["sales", "customer service", "support"],
        "email": "info@primotech-llc.com",
        "areaServed": ["AE"],
        "availableLanguage": ["English", "Arabic"],
        "address": {
          "@type": "PostalAddress",
          "streetAddress": "Shop 23, Musthafa Building, Satellite Market, Deira, Dubai",
          "addressLocality": "Dubai",
          "addressRegion": "Dubai",
          "postalCode": "123241",
          "addressCountry": "AE"
        }
      }
    }
  ]
};


---

<Layout 
  title={title} 
  description={description} 
  structuredData={structuredData} 
  canonicalUrl={canonicalUrl}
>
  <main class="min-h-screen bg-gray-50">
    <!-- Hero Banner with Animations -->
    <section class="relative h-[60vh] lg:h-[70vh] overflow-hidden faq-hero" role="banner" aria-labelledby="hero-title">
      <div class="absolute inset-0">
        <img 
          src="/images/aboutus-background.png"
          alt="PrimoTech office team"
          class="w-full h-full object-cover hero-image-reveal"
          loading="eager"
          decoding="async"
        />
        <div class="absolute inset-0 bg-black/40 hero-overlay-fade"></div>
        <div class="absolute inset-0 bg-gradient-to-r from-teal-900/80 to-transparent hero-overlay-fade"></div>
      </div>
      <div class="relative z-10 flex items-center h-full">
        <div class="container mx-auto px-6 lg:px-8">
          <div class="max-w-2xl hero-content-reveal">
            <h1 id="hero-title" class="text-4xl md:text-5xl lg:text-7xl font-bold text-white mb-6 hero-title-animate">
              Frequently Asked Questions
            </h1>
            <p class="text-lg md:text-xl lg:text-2xl text-gray-200 mb-4 hero-subtitle-animate">
              Quick answers about PrimoTech products and support.
            </p>
            <p class="text-base md:text-lg lg:text-xl text-gray-300 hero-description-animate">
              Find solutions to common questions or reach out to our team for more help.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- FAQ Content Section -->
    <section class="py-16 faq-content-section" role="main" aria-labelledby="faq-heading">
      <div class="max-w-6xl mx-auto px-6">
        <!-- Page Introduction -->
        <div class="text-center mb-12">
          <h2 id="faq-heading" class="text-3xl font-bold text-gray-900 mb-4">
            Support Center
          </h2>
          <p class="text-lg text-gray-600 max-w-3xl mx-auto">
            Browse our comprehensive FAQ database or use the category filters below to find specific answers to your questions.
          </p>
        </div>

        <!-- Category Filter -->
        <div class="mb-12 text-center">
          <div class="inline-flex flex-wrap gap-3 bg-white rounded-2xl p-3 shadow-lg border filter-container" role="tablist" aria-label="FAQ Categories">
            <button 
              class="category-btn active" 
              data-category="All"
              role="tab"
              aria-selected="true"
              aria-controls="faq-list"
              tabindex="0"
            >
              All Categories
            </button>
            {faqCategories.map((category) => (
              <button 
                class="category-btn" 
                data-category={category}
                role="tab"
                aria-selected="false"
                aria-controls="faq-list"
                tabindex="-1"
              >
                {category}
              </button>
            ))}
          </div>
        </div>

        <!-- FAQ Stats - Keep this section -->
        <div class="mb-8 text-center">
          <p class="text-sm text-gray-500">
            Showing <span id="visible-count" class="font-semibold text-teal-600">9</span> of <span class="font-semibold">9</span> questions
          </p>
        </div>

        <!-- FAQ Grid -->
        <div id="faq-list" class="space-y-6" role="tabpanel" aria-labelledby="faq-heading">
          {faqs.map((faq, index) => (
            <article 
              class="faq-item bg-white rounded-xl shadow-sm border-l-4 border-l-transparent border-t border-r border-b border-gray-100 transition-all duration-500 hover:shadow-md focus-within:ring-1 focus-within:ring-teal-500"
              data-category={faq.category}
              data-search-text={`${faq.question} ${faq.answer}`.toLowerCase()
              }
              style={`animation-delay: ${(index % 4) * 100}ms`}
              role="article"
              aria-labelledby={`faq-question-${faq.id}`}
            >
              <div class="p-5 md:p-7 relative">
                <div class="flex items-start gap-5">
                  <div class="w-10 h-10 bg-gradient-to-r from-teal-500 to-teal-600 rounded-lg flex items-center justify-center flex-shrink-0 shadow-md relative overflow-hidden">
                    <svg class="w-5 h-5 text-white z-10 relative" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
                    </svg>
                  </div>
                  <div class="flex-1">
                    <div class="mb-3">
                      <span class="inline-block px-3 py-1 text-xs font-semibold text-teal-700 bg-teal-50 rounded-full border border-teal-200">
                        {faq.category}
                      </span>
                    </div>
                    <h3 id={`faq-question-${faq.id}`} class="text-lg md:text-xl font-bold text-gray-900 mb-4 leading-tight">
                      {faq.question}
                    </h3>
                    <div class="text-gray-600 leading-relaxed text-base prose prose-sm max-w-none">
                      <p>{faq.answer}</p>
                    </div>
                    <div class="mt-4 pt-4 border-t border-gray-100">
                      <p class="text-xs text-gray-500">
                        Was this helpful? 
                        <button class="ml-2 text-teal-600 hover:text-teal-700 font-medium" onclick={`trackHelpfulness(true, ${faq.id})`}>
                          Yes
                        </button>
                        <span class="mx-1">|</span>
                        <button class="text-teal-600 hover:text-teal-700 font-medium" onclick={`trackHelpfulness(false, ${faq.id})`}>
                          No
                        </button>
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            </article>
          ))}
        </div>
        
        <!-- No Results Message -->
        <div id="no-results" class="hidden text-center py-16" role="status" aria-live="polite">
          <div class="max-w-md mx-auto">
            <div class="w-20 h-20 mx-auto mb-6 bg-gray-100 rounded-full flex items-center justify-center">
              <svg class="w-10 h-10 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
              </svg>
            </div>
            <h3 class="text-2xl font-bold text-gray-700 mb-3">No results found</h3>
            <p class="text-gray-500 text-lg mb-6">Try adjusting your search terms or selecting a different category</p>
            <button 
              onclick="clearFilters()" 
              class="inline-flex items-center px-4 py-2 bg-teal-600 text-white rounded-lg hover:bg-teal-700 transition-colors"
            >
              Clear Filters
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- Contact Section with Animations -->
    <section class="bg-white border-t border-gray-200 py-16 contact-section">
      <div class="max-w-4xl mx-auto px-6 text-center">
        <h2 class="text-3xl font-bold text-gray-900 mb-4 contact-title-animate">
          Still Need Help?
        </h2>
        <p class="text-lg text-gray-600 mb-8 contact-description-animate">
          Can't find the answer you're looking for? Our support team is ready to assist you.
        </p>
        
        <div class="grid md:grid-cols-3 gap-8 mb-8">
          <div class="text-center contact-card-animate" data-delay="100">
            <div class="w-12 h-12 bg-teal-100 rounded-lg flex items-center justify-center mx-auto mb-4 transition-all duration-300 hover:scale-110">
              <svg class="w-6 h-6 text-teal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 4.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
              </svg>
            </div>
            <h3 class="font-semibold text-gray-900 mb-2">Email Support</h3>
            <p class="text-gray-600 text-sm">Get detailed help via email</p>
          </div>
          
          <div class="text-center contact-card-animate" data-delay="200">
            <div class="w-12 h-12 bg-teal-100 rounded-lg flex items-center justify-center mx-auto mb-4 transition-all duration-300 hover:scale-110">
              <svg class="w-6 h-6 text-teal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z" />
              </svg>
            </div>
            <h3 class="font-semibold text-gray-900 mb-2">Phone Support</h3>
            <p class="text-gray-600 text-sm">Speak directly with our experts</p>
          </div>
          
          <div class="text-center contact-card-animate" data-delay="300">
            <div class="w-12 h-12 bg-teal-100 rounded-lg flex items-center justify-center mx-auto mb-4 transition-all duration-300 hover:scale-110">
              <svg class="w-6 h-6 text-teal-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253" />
              </svg>
            </div>
            <h3 class="font-semibold text-gray-900 mb-2">Documentation</h3>
            <p class="text-gray-600 text-sm">Browse our knowledge base</p>
          </div>
        </div>
        
        <a 
          href="/contact"
          class="inline-flex items-center px-6 py-3 bg-transparent border-2 border-teal-400 text-teal-400 hover:bg-teal-400 hover:text-white font-semibold text-base rounded-full transition-all duration-300 group transform hover:scale-105 hover:shadow-lg"
        >
          Contact Support Team
          <svg class="ml-2 w-4 h-4 transition-transform duration-300 group-hover:translate-x-1" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 8l4 4m0 0l-4 4m4-4H3"/>
          </svg>
        </a>
      </div>
    </section>
  </main>
  <Whatsapp client:load />
</Layout>

<style>
/* Enhanced Category Button Styles */
.filter-container {
  backdrop-filter: blur(10px);
  background: rgba(255, 255, 255, 0.95);
  transition: all 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.category-btn {
  position: relative;
  padding: 0.75rem 1.5rem;
  border-radius: 1rem;
  border: 2px solid transparent;
  background: linear-gradient(135deg, #f8fafc 0%, #f1f5f9 100%);
  color: #64748b;
  font-weight: 600;
  font-size: 0.875rem;
  cursor: pointer;
  transition: color 0.3s cubic-bezier(0.34, 1.56, 0.64, 1), background 0.3s cubic-bezier(0.34, 1.56, 0.64, 1), box-shadow 0.3s cubic-bezier(0.34, 1.56, 0.64, 1), transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
  transform: scale(1);
  white-space: nowrap;
  overflow: hidden;
}

.category-btn::before {
  content: '';
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%) scaleX(0);
  width: 24px;
  height: 3px;
  background: #0d9488;
  border-radius: 2px;
  transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.category-btn.active {
  color: #0d9488;
  background: rgba(20, 184, 166, 0.08);
  box-shadow: 0 4px 16px rgba(20, 184, 166, 0.08);
  transform: scale(1.06);
}

.category-btn.active::before {
  transform: translateX(-50%) scaleX(1);
}

.category-btn:hover {
  background: linear-gradient(135deg, #e2e8f0 0%, #cbd5e1 100%);
  color: #0d9488;
  transform: scale(1.04);
  box-shadow: 0 8px 25px rgba(20, 184, 166, 0.08);
}

/* Professional FAQ Item Styles */
.faq-item {
  transition: all 0.4s cubic-bezier(0.165, 0.84, 0.44, 1);
  opacity: 1;
  display: block !important;
  transform: translateY(0);
  border-left-color: transparent;
  will-change: transform, opacity, box-shadow, border-left-color;
  position: relative;
  overflow: hidden;
}

.faq-item:hover {
  border-left-color: #0d9488;
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
}

/* Refined animation timing for filtering */
.faq-item.filtering-out {
  opacity: 0;
  transform: translateY(-10px);
  pointer-events: none;
  transition: all 0.5s cubic-bezier(0.55, 0, 0.1, 1);
}

.faq-item.filtering-in {
  opacity: 1;
  transform: translateY(0);
  transition: all 0.6s cubic-bezier(0.16, 1, 0.3, 1);
  animation: faqItemReveal 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

/* Elegant animation for item reveal */
@keyframes faqItemReveal {
  0% {
    opacity: 0.4;
    transform: translateY(16px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

/* Extra-smooth filtering animations */
.faq-item.filtering-out {
  opacity: 0;
  max-height: 0;
  margin-top: 0;
  margin-bottom: 0;
  padding-top: 0;
  padding-bottom: 0;
  transform: translateY(-20px) scale(0.95);
  pointer-events: none;
  transition: all 0.7s cubic-bezier(0.55, 0, 0.1, 1);
}

.faq-item.filtering-in {
  opacity: 1;
  transform: translateY(0) scale(1);
  max-height: 2000px; /* Large enough to contain content */
  transition: all 0.8s cubic-bezier(0.16, 1, 0.3, 1); /* Improved easing */
  animation: faqItemReveal 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

/* Enhanced animation for revealing FAQ items */
@keyframes faqItemReveal {
  0% {
    opacity: 0.3;
    transform: translateY(25px) scale(0.97);
  }
  50% {
    opacity: 0.9;
    transform: translateY(-4px) scale(1.01);
  }
  75% {
    transform: translateY(2px);
  }
  100% {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

/* Animation for active filter button */
.category-btn.active {
  color: #0d9488;
  background: rgba(20, 184, 166, 0.08);
  box-shadow: 0 4px 16px rgba(20, 184, 166, 0.1);
  transform: scale(1.06);
  animation: activeBtnPulse 0.7s cubic-bezier(0.16, 1, 0.3, 1);
}

@keyframes activeBtnPulse {
  0% {
    transform: scale(1);
    box-shadow: 0 0 0 rgba(20, 184, 166, 0);
  }
  40% {
    transform: scale(1.12);
    box-shadow: 0 0 25px rgba(20, 184, 166, 0.35);
  }
  70% {
    transform: scale(1.04);
  }
  100% {
    transform: scale(1.06);
    box-shadow: 0 4px 16px rgba(20, 184, 166, 0.1);
  }
}

/* Loading States */
.loading {
  position: relative;
  overflow: hidden;
}

.loading::after {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  height: 100%;
  width: 100%;
  background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
  animation: loading-shimmer 1.5s infinite;
}

@keyframes loading-shimmer {
  0% { left: -100%; }
  100% { left: 100%; }
}

/* Improved Mobile Responsiveness */
@media (max-width: 768px) {
  .hero-title-animate {
    font-size: 2.5rem !important;
  }
  
  .faq-item .flex {
    flex-direction: column;
    gap: 1rem;
  }
  
  .faq-item .w-12.h-12 {
    align-self: flex-start;
  }
  
  .filter-container {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    scroll-snap-type: x mandatory;
  }
  
  .category-btn {
    scroll-snap-align: start;
    flex-shrink: 0;
  }
}

/* Print Styles */
@media print {
  .hero-section,
  .contact-section,
  .filter-container,
  .category-btn {
    display: none;
  }
  
  .faq-item {
    break-inside: avoid;
    border: 1px solid #ccc;
    margin-bottom: 1rem;
  }
}

/* Hero animations - Restore original animations */
.faq-hero {
  opacity: 0;
  transform: translateY(50px);
  transition: all 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.faq-hero.hero-revealed {
  opacity: 1;
  transform: translateY(0);
}

.hero-image-reveal {
  transform: scale(1.1);
  opacity: 0;
  transition: all 2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.faq-hero.hero-revealed .hero-image-reveal {
  transform: scale(1);
  opacity: 1;
  transition-delay: 0.2s;
}

.hero-overlay-fade {
  opacity: 0;
  transition: opacity 1s ease-out;
}

.faq-hero.hero-revealed .hero-overlay-fade {
  opacity: 1;
  transition-delay: 0.4s;
}

.hero-content-reveal {
  opacity: 0;
  transform: translateY(30px);
  transition: all 1s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.faq-hero.hero-revealed .hero-content-reveal {
  opacity: 1;
  transform: translateY(0);
  transition-delay: 0.5s;
}

.hero-title-animate {
  opacity: 0;
  transform: translateY(20px);
  transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.hero-subtitle-animate {
  opacity: 0;
  transform: translateY(15px);
  transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.hero-description-animate {
  opacity: 0;
  transform: translateY(10px);
  transition: all 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
}

.faq-hero.hero-revealed .hero-title-animate {
  opacity: 1;
  transform: translateY(0);
  transition-delay: 0.6s;
}

.faq-hero.hero-revealed .hero-subtitle-animate {
  opacity: 1;
  transform: translateY(0);
  transition-delay: 0.7s;
}

.faq-hero.hero-revealed .hero-description-animate {
  opacity: 1;
  transform: translateY(0);
  transition-delay: 0.8s;
}
</style>

<script type="module">
// Production-ready FAQ functionality with error handling
(function() {
  'use strict';
  
  let isInitialized = false;
  
  // Initialize when DOM is ready
  function initializeFAQ() {
    if (isInitialized) return;
    
    try {
      setupCategoryFilters();
      setupKeyboardNavigation();
      setupAnalytics();
      isInitialized = true;
      console.log('FAQ system initialized successfully');
    } catch (error) {
      console.error('Error initializing FAQ system:', error);
      fallbackInitialization();
    }
  }
  
  // Category filtering with improved UX
  function setupCategoryFilters() {
    const buttons = document.querySelectorAll('.category-btn');
    const items = document.querySelectorAll('.faq-item');
    const noResults = document.getElementById('no-results');
    const visibleCount = document.getElementById('visible-count');
    
    buttons.forEach(button => {
      button.addEventListener('click', function(e) {
        e.preventDefault();
        
        const category = this.getAttribute('data-category');
        filterByCategory(category, buttons, items, noResults, visibleCount);
        updateURL(category);
      });
      
      // Keyboard navigation
      button.addEventListener('keydown', function(e) {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          this.click();
        }
      });
    });
    
    // Initialize from URL parameter
    const urlParams = new URLSearchParams(window.location.search);
    const initialCategory = urlParams.get('category') || 'All';
    filterByCategory(initialCategory, buttons, items, noResults, visibleCount);
  }
  
  // Filter by category
  function filterByCategory(category, buttons, items, noResults, visibleCount) {
    let visible = 0;
    
    // Add subtle ripple effect to container
    const faqList = document.getElementById('faq-list');
    if (faqList) {
      faqList.animate([
        { opacity: 1 },
        { opacity: 0.95 },
        { opacity: 1 }
      ], {
        duration: 400,
        easing: 'ease-out'
      });
    }
    
    // Update button states with improved animation
    buttons.forEach(btn => {
      const isActive = btn.getAttribute('data-category') === category;
      
      // Remove active state
      btn.classList.remove('active');
      btn.setAttribute('aria-selected', 'false');
      btn.setAttribute('tabindex', '-1');
      
      // Add active state with perfect timing
      if (isActive) {
        requestAnimationFrame(() => {
          requestAnimationFrame(() => {
            btn.classList.add('active');
            btn.setAttribute('aria-selected', 'true');
            btn.setAttribute('tabindex', '0');
          });
        });
      }
    });
    
    // Create smoother staggered animations with golden ratio timing
    const baseDelay = 30;
    const totalDuration = 800;
    
    // First hide all items that need to be hidden
    items.forEach(item => {
      const itemCategory = item.getAttribute('data-category');
      const shouldShow = category === 'All' || itemCategory === category;
      
      if (!shouldShow) {
        item.classList.add('filtering-out');
        item.classList.remove('filtering-in');
        
        // Hide after animation completes
        setTimeout(() => {
          if (item.classList.contains('filtering-out')) {
            item.style.display = 'none';
          }
        }, 700); // Match the CSS transition time
      }
    });
    
    // Then show items with staggered delays based on golden ratio timing
    const itemsToShow = Array.from(items).filter(item => {
      const itemCategory = item.getAttribute('data-category');
      return category === 'All' || itemCategory === category;
    });
    
    // Calculate optimal delays for smooth appearance
    itemsToShow.forEach((item, index) => {
      // Logarithmic delay creates natural-feeling staggered animation
      const delay = baseDelay * Math.log(index + 2) * 25;
      
      setTimeout(() => {
        item.style.display = 'block';
        // Force reflow for transition
        void item.offsetWidth;
        item.classList.remove('filtering-out');
        item.classList.add('filtering-in');
        visible++;
        
        if (index === itemsToShow.length - 1) {
          updateResultsDisplay(visible, noResults, visibleCount);
        }
      }, delay);
    });
    
    // Show "no results" message with a nice fade if needed
    setTimeout(() => {
      updateResultsDisplay(itemsToShow.length, noResults, visibleCount);
    }, baseDelay);
    
    // Analytics
    if (window.gtag) {
      window.gtag('event', 'faq_filter', {
        category: category,
        results_count: itemsToShow.length
      });
    }
  }
  
  // Update results display
  function updateResultsDisplay(visible, noResults, visibleCount) {
    if (visibleCount) {
      visibleCount.textContent = visible;
    }
    
    if (visible === 0) {
      noResults.style.display = 'block';
      noResults.classList.remove('hidden');
    } else {
      noResults.style.display = 'none';
      noResults.classList.add('hidden');
    }
  }
  
  // Keyboard navigation
  function setupKeyboardNavigation() {
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        clearFilters();
      }
    });
  }
  
  // Analytics setup
  function setupAnalytics() {
    // Track FAQ views
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const faqId = entry.target.querySelector('[id^="faq-question-"]')?.id;
          if (faqId && window.gtag) {
            window.gtag('event', 'faq_view', {
              faq_id: faqId
            });
          }
        }
      });
    }, { threshold: 0.5 });
    
    document.querySelectorAll('.faq-item').forEach(item => {
      observer.observe(item);
    });
  }
  
  // Update URL without page reload
  function updateURL(category) {
    if (category === 'All') {
      history.replaceState({}, '', window.location.pathname);
    } else {
      history.replaceState({}, '', `${window.location.pathname}?category=${encodeURIComponent(category)}`);
    }
  }
  
  // Clear all filters
  window.clearFilters = function() {
    // Add a subtle flash animation to the container
    const faqList = document.getElementById('faq-list');
    if (faqList) {
      faqList.animate([
        { opacity: 1 },
        { opacity: 0.8 },
        { opacity: 1 }
      ], {
        duration: 600,
        easing: 'cubic-bezier(0.34, 1.56, 0.64, 1)'
      });
    }
    
    const searchInput = document.getElementById('faq-search');
    if (searchInput) {
      searchInput.value = '';
    }
    
    const allButton = document.querySelector('.category-btn[data-category="All"]');
    if (allButton) {
      allButton.click();
    }
    
    updateURL('All');
    
    // Ensure all items are visible
    document.querySelectorAll('.faq-item').forEach(item => {
      item.style.display = 'block';
      item.classList.remove('filtering-out');
      item.classList.add('filtering-in');
    });
    
    // Update the visible count
    const visibleCount = document.getElementById('visible-count');
    if (visibleCount) {
      visibleCount.textContent = document.querySelectorAll('.faq-item').length.toString();
    }
    
    // Hide no results message
    const noResults = document.getElementById('no-results');
    if (noResults) {
      noResults.style.display = 'none';
      noResults.classList.add('hidden');
    }
  };
  
  // Track helpfulness
  window.trackHelpfulness = function(helpful, faqId) {
    if (window.gtag) {
      window.gtag('event', 'faq_helpful', {
        faq_id: faqId,
        helpful: helpful
      });
    }
    
    // Show thank you message
    const button = event.target;
    const originalText = button.textContent;
    button.textContent = 'Thank you!';
    button.disabled = true;
    
    setTimeout(() => {
      button.textContent = originalText;
      button.disabled = false;
    }, 2000);
  };
  
  // Fallback initialization for better reliability
  function fallbackInitialization() {
    console.log('Using fallback initialization for FAQ system');
    
    // Basic filtering without animations
    document.querySelectorAll('.category-btn').forEach(button => {
      button.addEventListener('click', function() {
        // Remove active class from all buttons
        document.querySelectorAll('.category-btn').forEach(btn => {
          btn.classList.remove('active');
        });
        
        // Add active class to clicked button
        this.classList.add('active');
        
        const category = this.getAttribute('data-category');
        const items = document.querySelectorAll('.faq-item');
        let visible = 0;
        
        // Simple show/hide filtering
        items.forEach(item => {
          const itemCategory = item.getAttribute('data-category');
          const shouldShow = category === 'All' || itemCategory === category;
          
          item.style.display = shouldShow ? 'block' : 'none';
          if (shouldShow) visible++;
        });
        
        // Show/hide no results message
        const noResults = document.getElementById('no-results');
        if (noResults) {
          noResults.style.display = visible === 0 ? 'block' : 'none';
        }
        
        // Update count
        const visibleCount = document.getElementById('visible-count');
        if (visibleCount) {
          visibleCount.textContent = visible.toString();
        }
      });
    });
    
    // Initialize search with basic functionality
    const searchInput = document.getElementById('faq-search');
    if (searchInput) {
      searchInput.addEventListener('input', function() {
        const searchTerm = this.value.toLowerCase();
        const items = document.querySelectorAll('.faq-item');
        let visible = 0;
        
        items.forEach(item => {
          const searchText = item.getAttribute('data-search-text') || '';
          const shouldShow = !searchTerm || searchText.includes(searchTerm);
          
          item.style.display = shouldShow ? 'block' : 'none';
          if (shouldShow) visible++;
        });
        
        // Show/hide no results message
        const noResults = document.getElementById('no-results');
        if (noResults) {
          noResults.style.display = visible === 0 ? 'block' : 'none';
        }
        
        // Update count
        const visibleCount = document.getElementById('visible-count');
        if (visibleCount) {
          visibleCount.textContent = visible.toString();
        }
      });
    }
  }
  
  // Initialize on DOM ready with automatic hero reveal
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', function() {
      initializeFAQ();
      
      // Trigger hero animation immediately
      setTimeout(() => {
        const heroSection = document.querySelector('.faq-hero');
        if (heroSection) {
          heroSection.classList.add('hero-revealed');
        }
      }, 100);
    });
  } else {
    initializeFAQ();
    
    // Trigger hero animation immediately
    setTimeout(() => {
      const heroSection = document.querySelector('.faq-hero');
      if (heroSection) {
        heroSection.classList.add('hero-revealed');
      }
    }, 100);
  }
  
  // Ensure everything works even after full page load
  window.addEventListener('load', function() {
    // Re-initialize if needed
    if (!isInitialized) {
      initializeFAQ();
    }
    
    // Ensure all items are visible initially
    setTimeout(() => {
      document.querySelectorAll('.faq-item').forEach(item => {
        if (!item.classList.contains('filtering-out')) {
          item.style.display = 'block';
          item.style.opacity = '1';
        }
      });
      
      // Ensure hero section is visible
      const heroSection = document.querySelector('.faq-hero');
      if (heroSection) {
        heroSection.classList.add('hero-revealed');
      }
      
      // Ensure content sections are visible
      const sections = document.querySelectorAll('.faq-content-section, .contact-section');
      sections.forEach(section => {
        section.classList.add('section-revealed');
      });
    }, 200);
  });
})();
</script>